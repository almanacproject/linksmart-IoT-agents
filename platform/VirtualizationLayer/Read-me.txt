== Installation of the Virtualization Layer ==

# See http://nodejs.org.
	# On Ubuntu:
		apt-get install nodejs npm
	# On Raspbian (Raspberry Pi):
		# Either from a binary package from: http://nodejs.org/dist/
			http://nodejs.org/dist/v0.10.27/node-v0.10.27-linux-arm-pi.tar.gz
			How-to: http://alexandre.alapetite.fr/doc-alex/raspberrypi-nodejs-arduino/#nodejs
		# Or compile from source from: http://nodejs.org/dist/latest/
			How-to: http://elinux.org/Node.js_on_RPi

# Create and move to the directory where the VirtualizationLayer should be located, e.g.
mkdir -p /home/almanac/platform/nodejs/VirtualizationLayer/
cd /home/almanac/platform/nodejs/VirtualizationLayer/

# Deploy the VirtualizationLayer source-code

# Use `npm` to fetch the librairies and dependencies automatically:
npm install atom-writer mqtt node-ssdp request socket.io xml-writer

	# (we use a patched `http-proxy` library, included in the source code - this library may be removed in the future)


== Setup of the Virtualization Layer ==

# Edit the config.js file according to your network.
# TODO: More information to follow


== Running the Virtualization Layer ==

# Either manually:
cd /home/almanac/platform/nodejs/VirtualizationLayer
nodejs index.js

# Or from a cron at restart:
#Edit the file `/etc/cron.d/almanac` and add:

@reboot root cd /home/almanac/platform/nodejs/VirtualizationLayer && nodejs /home/almanac/platform/nodejs/VirtualizationLayer/index.js >> /home/almanac/platform/log/VirtualizationLayer.log 2>&1 &

# TODO: Document using "forever" https://github.com/nodejitsu/forever
